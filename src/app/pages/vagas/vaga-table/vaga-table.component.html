
<div class="vacancie">
    <div class="list-vacancie container" *ngFor="let vaga of vagas">
        <div class="item">
            <div class="item-title">
                <h2>{{vaga.titulo}}<i *ngIf=" isAuthorized()" (click)="showDialogEdit()" style="float: right;cursor: pointer;" class="pi pi-pencil"></i></h2>
            </div>
            <div class="item-description">
                <h3>Especificações</h3>
                <p>
                    - {{vaga.descricao}} <br>
                </p>
            </div>
            <div style="width: 100%;">
                <div class="item-status">
                    <i class="pi pi-check active"></i>
                    <i class="pi pi-ban inative"></i>
                    <p>{{vaga.status}}</p>
                </div>
                <div class="item-button">
                    <button pButton pRipple (click)="showDialogApply()" label="Candidatar" class="p-button-success"></button>
                    <button pButton pRipple label="Ver"><i class="pi pi-eye"></i></button>
                </div>
            </div>
        </div>
    </div>
</div>

<p-dialog header="Editar Vaga" [(visible)]="visibleEdit" [style]="{width: '50vw'}">
    <div class="content-form">
        <form [formGroup]="formEdit" (ngSubmit)="atualizarVaga()">
            <div class="input-group">
                <label for="titulo">Titulo</label>
                <input [(ngModel)]="vaga.titulo" name="titulo" pInputText id="titulo" formControlName="titulo" class="input-style"/>
            </div>
            <div class="input-group">
                <label for="descricao">Descrição</label>
                <textarea [(ngModel)]="vaga.descricao" name="descricao" [autoResize]="true"  [style]="{'width':'100%'}"  id="descricao" rows="5" cols="30" pInputTextarea formControlName="descricao"></textarea>
            </div>
            <div class="input-group">
                <label for="status">Status</label>
                <p-dropdown [(ngModel)]="vaga.status" name="status" formControlName="status"  [style]="{'width':'100%'}" [(ngModel)]="vaga.status" optionLabel="status" [showClear]="true" placeholder="Status">
                </p-dropdown>
            </div>
            
            <div class="input-button">
                <div class="button-left">
                    <p-button (onClick)="closeDialogEdit()" label="Cancelar" severity="danger"></p-button>
                </div>
                <div class="button-right">
                    <p-button type="submit" label="Cadastrar" severity="success"></p-button>
                </div>
            </div>
        </form>
    </div>
</p-dialog>

<p-dialog header="Atenção" [(visible)]="visibleApply" [modal]="true" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '18vw' }" [draggable]="false" [resizable]="false" [style]="{ width: '18vw' }" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="header">
        <div class="modal-title">
            <h2>Atenção</h2>
        </div>
    </ng-template>
    <div class="modal-text">
        <p>
            Deseja candidatar-se a vaga?
        </p>
    </div>
    <div class="modal-buttons">
        <div class="button-left">
            <p-button label="Cancelar" severity="danger" (click)="closeDialogApply()"></p-button>
        </div>
        <div class="button-right">
            <p-button type="submit" label="Candidatar-se" severity="success"></p-button>
        </div>
    </div>
</p-dialog>


